Set<Position> startLocationPositionSet = new HashSet<Position>();
Set<Position> unexploredStartLocationPositionSet = new HashSet<Position>();
Boolean scoutingProbeFound = false;
Boolean scoutingProbeActive = false;
Unit scoutingProbe = null;

onStart()
{
    for (BaseLocation startLocation : BWTA.getStartLocations())
    {
        TilePosition tileCorrespondingToStartLocation = new TilePosition (startLocation.getX()/32, startLocation.getY()/32);
        Position positionCorrespondingToStartLocation = tileCorrespondingToStartLocation.toPosition();
        startLocationPositionSet.add(positionCorrespondingToStartLocation);
    }
    
    unexploredStartLocationPositionSet = startLocationPositionSet;       
}

onFrame()
{
    if (self.allUnitCount(UnitType.Protoss_Pylon) >= 1)
    {
        scoutingProbeActive = true;
    }
    
    if (scoutingProbeActive && !scoutingProbeFound)
    {
        for (Unit myUnit : self.getUnits())
        {
            if (myUnit.getType() == UnitType.Protoss_Probe)
            {
                scoutingProbe = myUnit;
                scoutingProbeFound = true;
                break;
            }
        }
    }
    
    if (scoutingProbeFound)
    {
        if (!scoutingProbe.exists())
        {
            scoutingProbe = null;
            scoutingProbeFound = false;
            break;
        }
    }
    
    for (Position startLocationPosition : startLocationPositionSet)
    {
        if (game.startLocationPosition.isExplored())
        {
            unexploredStartLocationPositionSet.remove(startLocationPosition);
            break;
         }
     }
}
    
